(this["webpackJsonpreact-todo-calender"]=this["webpackJsonpreact-todo-calender"]||[]).push([[0],[,,,,,,,,,,,,,function(t,e,n){},,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var o=n(1),c=n.n(o),a=n(8),d=n.n(a),i=n(4),s=n(2),r=(n(13),n(3)),l=n.n(r),j=n(0);var u=function(t){var e=t.day,n=t.placeHolder,o=t.today,c=t.active,a=t.cbFunc,d=t.hasTodos;return Object(j.jsx)(j.Fragment,{children:n?Object(j.jsx)("div",{className:"placeholder grid-child"}):Object(j.jsxs)("button",{id:e+"|day of this month",className:"\n\t\t\t\t\t\t".concat(o?"today":"","\n\t\t\t\t\t\t").concat(c?"active-day":"","\n\t\t\t\t\t\t").concat(d?"has-todos":"","\n\t\t\t\t\t\tday-div\n\t\t\t\t\t\tgrid-child\n\t\t\t\t\t"),onClick:a,children:[d?Object(j.jsx)("div",{className:"notch-container",children:"This day has ".concat(d," todo").concat(d>1?"s":"")}):Object(j.jsx)(j.Fragment,{children:" "}),Object(j.jsx)("div",{className:"date-num",children:e})]})})};n(16);var b=function(){return Object(j.jsx)("div",{className:"grid-container week-days",children:function(){for(var t=[],e=0;e<7;e++){var n=l()();n.set("day",e),t.push(Object(j.jsx)("div",{className:"week-day-label",children:n.format("dddd")},n.format("dddd")))}return t}()})},O=(n(17),n(24));n(18);var h=function(t){var e=t.addTodo,n=t.updateTodo,c=t.dayToShow,a=t.updateMode,d=t.updateParams,i=t.setCurrentlyUpdating,r=Object(o.useState)(""),u=Object(s.a)(r,2),b=u[0],h=u[1],f=Object(o.useState)(""),p=Object(s.a)(f,2),m=p[0],x=p[1],v=Object(o.useState)(l()()),g=Object(s.a)(v,2),S=g[0],y=g[1],T=Object(o.useState)(l()().toISOString().split("T")[0]),w=Object(s.a)(T,2),N=w[0],C=w[1],M=Object(o.useRef)(null);return Object(o.useEffect)((function(){console.log("Should run when clicking on any day!"),c&&(y(c),C(c.toISOString().split("T")[0]))})),Object(o.useEffect)((function(){console.log("Should run when clicking on any day!"),M.current.focus(),d&&(h(d.title),x(d.description),y(l()(d.deadline)),C(d.deadline.split("T")[0]))}),[a,c,S]),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),a?(i(!1),n({title:b,description:m,deadline:S.toISOString(),id:d.id})):e({title:b,description:m,deadline:S.toISOString(),id:Object(O.a)()}),h(""),x(""),y(l()()),C(l()().toISOString().split("T")[0]),M.current.focus()},children:[Object(j.jsxs)("label",{children:["Title",Object(j.jsx)("input",{type:"text",value:b,onChange:function(t){var e=t.target;h(e.value)},required:!0,autoFocus:!0,ref:M})]}),Object(j.jsxs)("label",{children:["Additional info",Object(j.jsx)("textarea",{value:m,onChange:function(t){var e=t.target;x(e.value)}})]}),Object(j.jsxs)("label",{children:["Deadline: ",Object(j.jsx)("b",{children:S.endOf("days").fromNow()}),Object(j.jsx)("input",{type:"date",value:N,onChange:function(t){var e=t.target.value,n=e+"T"+l()(S).toISOString().split("T")[1],o=l()(n);y(o),C(e)},required:!0})]}),Object(j.jsxs)("div",{className:"submit-btn-div",children:[Object(j.jsx)("button",{type:"submit",children:a?"Update todo":"Add new Todo"}),a&&Object(j.jsx)("button",{type:"button",onClick:function(){i(!1),h(""),x(""),y(l()()),C(l()().toISOString().split("T")[0])},children:"Cancel"})]})]})};n(19),n(20);var f=function(t){var e=t.todoObj,n=t.toggleCompleteTodo,c=t.deleteTodo,a=t.beginEdit,d=Object(o.useState)(!1),i=Object(s.a)(d,2),r=i[0],l=i[1];return Object(j.jsxs)("div",{className:"\n\t\t\ttodo-view\n\t\t\t".concat(e.completed?"todo-completed":"","\n\t\t"),children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h4",{children:e.title}),Object(j.jsx)("p",{children:e.description}),Object(j.jsx)("span",{children:e.dateAdded})]}),Object(j.jsx)("div",{className:"todo-btns",children:r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:function(){c(e.id),l(!1)},children:"Confirm delete"}),Object(j.jsx)("button",{onClick:function(){l(!1)},children:"Cancel delete"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:function(){l(!0)},children:"Delete"}),Object(j.jsx)("button",{onClick:function(){a(e)},children:"Update"}),Object(j.jsx)("button",{onClick:function(){n(e)},children:e.completed?"Unmark as complete":"Mark as complete"})]})})]})};var p=function(t){var e=t.todos,n=t.crudOperations,c=t.insideDayWithTodos,a=t.showingText,d=t.dayToShow,r=Object(o.useState)(!1),u=Object(s.a)(r,2),b=u[0],O=u[1],p=Object(o.useState)({}),x=Object(s.a)(p,2),v=x[0],g=x[1],S=Object(o.useState)(!1),y=Object(s.a)(S,2),T=y[0],w=y[1],N=function(t){O(!0),g(t)},C=Object(i.a)(e.sort(m));return T&&(C=Object(i.a)(C.filter((function(t){return!t.completed})))),console.log(C),b?Object(j.jsx)(h,{addTodo:n.addTodo,updateTodo:n.updateTodo,updateParams:v,updateMode:!0,setCurrentlyUpdating:O}):Object(j.jsxs)("div",{className:"\n\t\t\t".concat(a?"testing-grid":"","\n\t\t"),children:[a?Object(j.jsx)(h,{addTodo:n.addTodo,dayToShow:d}):Object(j.jsx)(j.Fragment,{}),Object(j.jsxs)("div",{className:"".concat(c?"list-todos-component-inside-day-with-todos":"list-todos-component"),children:[Object(j.jsxs)("label",{children:["".concat(T?a?"Showing only incomplete todos due on ".concat(a):"Showing: All":a?"Showing all todos due on: ".concat(a):"Showing: Only incomplete"),Object(j.jsx)("br",{}),T?"Click to show all":"Click to show only incomplete",Object(j.jsx)("input",{type:"checkbox",onClick:function(){return w(!T)}})]}),Object(j.jsx)("div",{className:"\n\t\t\tall-todos-listed\n\t\t\t".concat(c?"inside-day-with-todos":"","\n\t\t\t"),children:C.map((function(t){var e=l()(t.deadline);return Object(j.jsx)(f,{todoObj:t,toggleCompleteTodo:n.toggleCompleteTodo,deleteTodo:n.deleteTodo,momentObjFromTodo:e,beginEdit:N},t.id)}))})]})]})};function m(t,e){var n=l()(t.deadline),o=l()(e.deadline);return n.isBefore(o)?-1:o.isBefore(n)?1:0}var x=function(t){var e=t.dayToShow,n=t.todos,c=t.crudOperations,a=n.filter((function(t){return e.isSame(t.deadline,"date")})),d=Object(o.useState)(!1),i=Object(s.a)(d,2),r=i[0],l=i[1],u=Object(o.useState)({}),b=Object(s.a)(u,2),O=b[0];return b[1],r?Object(j.jsx)(h,{addTodo:c.addTodo,updateTodo:c.updateTodo,updateParams:O,updateMode:!0,setCurrentlyUpdating:l,dayToShow:e}):Object(j.jsx)("div",{className:"day-with-todos",children:Object(j.jsx)("div",{className:"grid-day-with-todos",children:a.length>0?Object(j.jsx)(p,{todos:a,crudOperations:c,insideDayWithTodos:!0,showingText:e.format("D [of] MMMM, YYYY"),dayToShow:e}):Object(j.jsxs)("div",{className:"day-w-out-todos",children:[Object(j.jsx)(h,{addTodo:c.addTodo,dayToShow:e}),Object(j.jsxs)("div",{children:[Object(j.jsx)("i",{children:"No todos due this day..."})," ",Object(j.jsx)("u",{children:e.format("D [of] MMMM, YYYY")}),Object(j.jsx)("p",{children:"Use the form to add a new todo on this day!"})]})]})})})};var v=function(t){var e=t.todos,n=t.crudOperations,c=Object(o.useState)((function(){return l()()})),a=Object(s.a)(c,2),d=a[0],i=(a[1],Object(o.useState)(d.clone())),r=Object(s.a)(i,2),O=r[0],h=(r[1],Object(o.useState)()),f=Object(s.a)(h,2),p=f[0],m=f[1],v=Object(o.useState)(),T=Object(s.a)(v,2),w=T[0],N=T[1],C=Object(o.useState)(),M=Object(s.a)(C,2),Y=M[0],k=M[1],I=Object(o.useState)(),D=Object(s.a)(I,2),F=D[0],E=D[1],U=function(){m(parseInt(d.format("D"),10)),N(parseInt(d.format("M"),10)),k(parseInt(d.format("YYYY"),10)),E(d.daysInMonth())};Object(o.useEffect)((function(){U()}),[]);var A=function(t){var e,n=t.target;e="|"===n.textContent?parseInt(n.parentNode.parentNode.id.split("|")[0]):""===n.id?parseInt(n.parentNode.id.split("|")[0]):parseInt(n.id.split("|")[0]),m(e),d.date(e)};return Object(j.jsxs)("div",{className:"calendar",children:[Object(j.jsxs)("div",{className:"month-view",children:[Object(j.jsxs)("div",{className:"month-navigator",children:[Object(j.jsx)("button",{onClick:function(){d.subtract(1,"M"),U()},children:"Prev month"}),Object(j.jsx)("h2",{className:"current-month",children:Object(j.jsxs)("i",{children:[d.format("MMMM")," - ",d.format("YYYY")]})}),Object(j.jsx)("button",{onClick:function(){d.add(1,"M"),U()},children:"Next month"})]}),Object(j.jsx)(b,{}),Object(j.jsx)("div",{className:"grid-container calender-days",children:function(){for(var t=[],n=d.clone().startOf("month").format("e"),o=1;o<=n;o++)t.push(Object(j.jsx)(u,{placeHolder:!0},"null ".concat(o," of month")));for(var c=1;c<=F;c++)t.push(Object(j.jsx)(u,{placeHolder:!1,day:c,today:y(O,w,Y,c),active:S(p,c),cbFunc:A,hasTodos:g(w,Y,c,e)},"Day ".concat(c," of month")));return t}()})]}),Object(j.jsx)(x,{dayToShow:d,todos:e,crudOperations:n})]})};function g(t,e,n,o){var c=function(t,e,n){var o=e.toString();1===o.length&&(o="0"+o);var c=n.toString();1===c.length&&(c="0"+c);return"".concat(t,"-").concat(o,"-").concat(c)}(e,t,n),a=l()(c).format("YYYY-MM-DD"),d=0;return o.forEach((function(t){t.deadline.split("T")[0]===a&&d++})),d}function S(t,e){return e===t}function y(t,e,n,o){var c=parseInt(t.format("D"),10),a=parseInt(t.format("M"),10),d=parseInt(t.format("YYYY"),10);return a===e&&d===n&&c===o}var T=function(){var t=Object(o.useState)(JSON.parse(localStorage.getItem("todos"))||[]),e=Object(s.a)(t,2),n=e[0],c=e[1];Object(o.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(n))}),[n]);var a={addTodo:function(t){var e=Object(i.a)(n);e.push(t),c(e)},deleteTodo:function(t){var e=Object(i.a)(n).filter((function(e){return e.id!==t}));c(e)},toggleCompleteTodo:function(t){var e=t.id,o=Object(i.a)(n).filter((function(t){return t.id!==e})),a=n.find((function(t){return t.id===e}));a.completed=!a.completed,o.push(a),c(o)},updateTodo:function(t){var e=Object(i.a)(n).filter((function(e){return e.id!==t.id}));e.push(t),c(e)}};return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(p,{todos:n,crudOperations:a}),Object(j.jsx)(v,{todos:n,crudOperations:a})]})};n(21);d.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(T,{})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.07397d1a.chunk.js.map