(this["webpackJsonpreact-todo-calender"]=this["webpackJsonpreact-todo-calender"]||[]).push([[0],[,,,,,,,,,,,,,function(t,e,n){},,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),o=n(8),d=n.n(o),r=n(4),i=n(2),s=(n(13),n(3)),j=n.n(s),u=n(0);var l=function(t){var e=t.day,n=t.placeHolder,a=t.today,c=t.active,o=t.cbFunc,d=t.hasTodos;return Object(u.jsx)(u.Fragment,{children:n?Object(u.jsx)("div",{className:"placeholder grid-child"}):Object(u.jsxs)("button",{id:e+"|day of this month",className:"\n\t\t\t\t\t\t".concat(a?"today":"","\n\t\t\t\t\t\t").concat(c?"active-day":"","\n\t\t\t\t\t\t").concat(d?"has-todos":"","\n\t\t\t\t\t\tday-div\n\t\t\t\t\t\tgrid-child\n\t\t\t\t\t"),onClick:o,children:[d?Object(u.jsx)("div",{className:"notch-container",children:"This day has ".concat(d," todo").concat(d>1?"s":"")}):Object(u.jsx)(u.Fragment,{children:" "}),Object(u.jsx)("div",{className:"date-num",children:e})]})})};n(16);var b=function(){return Object(u.jsx)("div",{className:"grid-container week-days",children:function(){for(var t=[],e=0;e<7;e++){var n=j()();n.set("day",e),t.push(Object(u.jsx)("div",{className:"week-day-label",children:n.format("dddd")},n.format("dddd")))}return t}()})},O=n(22);n(17);var f=function(t){var e=t.addTodo,n=t.updateMode,c=t.updateTodo,o=t.updateParams,d=t.setCurrentlyUpdating,r=t.dayToShow;Object(a.useEffect)((function(){r&&(g(r),w(r.toISOString().split("T")[0])),o&&(f(o.title),x(o.description),g(j()(o.deadline)),w(o.deadline.split("T")[0]))}),[o]);var s=Object(a.useState)(""),l=Object(i.a)(s,2),b=l[0],f=l[1],h=Object(a.useState)(""),p=Object(i.a)(h,2),v=p[0],x=p[1],m=Object(a.useState)(j()()),S=Object(i.a)(m,2),T=S[0],g=S[1],y=Object(a.useState)(j()().toISOString().split("T")[0]),N=Object(i.a)(y,2),Y=N[0],w=N[1],C=Object(a.useRef)(null);return Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n?(d(!1),c({title:b,description:v,deadline:T.toISOString(),id:o.id})):e({title:b,description:v,deadline:T.toISOString(),id:Object(O.a)()}),f(""),x(""),g(j()()),C.current.focus()},children:[Object(u.jsxs)("label",{children:["Title",Object(u.jsx)("input",{type:"text",value:b,onChange:function(t){var e=t.target;f(e.value)},required:!0,autoFocus:!0,ref:C})]}),Object(u.jsxs)("label",{children:["Additional info",Object(u.jsx)("textarea",{value:v,onChange:function(t){var e=t.target;x(e.value)}})]}),Object(u.jsxs)("label",{children:["Deadline: ",Object(u.jsx)("b",{children:T.endOf("days").fromNow()}),Object(u.jsx)("input",{type:"date",value:Y,onChange:function(t){var e=t.target.value,n=e+"T"+j()(T).toISOString().split("T")[1],a=j()(n);g(a),w(e)},required:!0})]}),Object(u.jsxs)("div",{className:"submit-btn-div",children:[Object(u.jsx)("button",{type:"submit",children:n?"Update todo":"Add new Todo"}),n?Object(u.jsx)("button",{type:"button",onClick:function(){d(!1),f(""),x(""),g(j()()),w(j()().toISOString().split("T")[0])},children:"Cancel"}):Object(u.jsx)(u.Fragment,{})]})]})};n(18);var h=function(t){var e=t.todoObj,n=t.crudOperations,c=t.handleTodoUpdate,o=Object(a.useState)(!1),d=Object(i.a)(o,2),r=d[0],s=d[1];return Object(u.jsxs)("div",{className:"todo-view",id:e.id,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:e.title}),Object(u.jsx)("p",{children:e.description}),Object(u.jsx)("span",{children:e.dateAdded})]}),Object(u.jsx)("div",{children:r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{onClick:function(t){var e=t.target.parentNode.parentNode.id;n.deleteTodo(e),s(!1)},children:"Confirm delete"}),Object(u.jsx)("button",{onClick:function(){s(!1)},children:"Cancel delete"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{onClick:function(){s(!0)},children:"Delete"}),Object(u.jsx)("button",{onClick:function(){c(e)},children:"Update"})]})})]})};var p=function(t){var e=t.dayToShow,n=t.todos,c=t.crudOperations,o=n.filter((function(t){return e.isSame(t.deadline,"date")})),d=Object(a.useState)(!1),r=Object(i.a)(d,2),s=r[0],j=r[1],l=Object(a.useState)({}),b=Object(i.a)(l,2),O=b[0],p=b[1],v=function(t){j(!0),p(t)};return s?Object(u.jsx)(f,{addTodo:c.addTodo,updateTodo:c.updateTodo,updateParams:O,updateMode:!0,setCurrentlyUpdating:j,dayToShow:e}):Object(u.jsxs)("div",{children:[Object(u.jsxs)("h3",{children:["Todos due on ",Object(u.jsx)("u",{children:e.format("D [of] MMMM, YYYY")})]}),o.length>0?Object(u.jsx)("div",{children:o.map((function(t){return Object(u.jsx)(h,{todoObj:t,crudOperations:c,handleTodoUpdate:v},t.id)}))}):Object(u.jsx)("i",{children:"No todos due this day..."}),Object(u.jsx)(f,{addTodo:c.addTodo,dayToShow:e})]})};var v=function(t){var e=t.todos,n=t.crudOperations,c=Object(a.useState)((function(){return j()()})),o=Object(i.a)(c,2),d=o[0],r=(o[1],Object(a.useState)(d.clone())),s=Object(i.a)(r,2),O=s[0],f=(s[1],Object(a.useState)()),h=Object(i.a)(f,2),v=h[0],T=h[1],g=Object(a.useState)(),y=Object(i.a)(g,2),N=y[0],Y=y[1],w=Object(a.useState)(),C=Object(i.a)(w,2),I=C[0],M=C[1],k=Object(a.useState)(),F=Object(i.a)(k,2),D=F[0],U=F[1],E=function(){T(parseInt(d.format("D"),10)),Y(parseInt(d.format("M"),10)),M(parseInt(d.format("YYYY"),10)),U(d.daysInMonth())};Object(a.useEffect)((function(){E()}),[]);var A=function(t){var e,n=t.target;e="|"===n.textContent?parseInt(n.parentNode.parentNode.id.split("|")[0]):""===n.id?parseInt(n.parentNode.id.split("|")[0]):parseInt(n.id.split("|")[0]),T(e),d.date(e)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"month-view",children:[Object(u.jsx)("h2",{children:Object(u.jsxs)("i",{children:[d.format("MMMM")," - ",d.format("YYYY")]})}),Object(u.jsx)("button",{onClick:function(){d.subtract(1,"M"),E()},children:"Prev month"}),Object(u.jsx)("button",{onClick:function(){d.add(1,"M"),E()},children:"Next month"}),Object(u.jsx)(b,{}),Object(u.jsx)("div",{className:"grid-container calender-days",children:function(){for(var t=[],n=d.clone().startOf("month").format("e"),a=1;a<=n;a++)t.push(Object(u.jsx)(l,{placeHolder:!0},"null ".concat(a," of month")));for(var c=1;c<=D;c++)t.push(Object(u.jsx)(l,{placeHolder:!1,day:c,today:S(O,N,I,c),active:m(v,c),cbFunc:A,hasTodos:x(N,I,c,e)},"Day ".concat(c," of month")));return t}()})]}),Object(u.jsx)(p,{dayToShow:d,todos:e,crudOperations:n})]})};function x(t,e,n,a){var c=function(t,e,n){var a=e.toString();1===a.length&&(a="0"+a);var c=n.toString();1===c.length&&(c="0"+c);return"".concat(t,"-").concat(a,"-").concat(c)}(e,t,n),o=j()(c).format("YYYY-MM-DD"),d=0;return a.forEach((function(t){t.deadline.split("T")[0]===o&&d++})),d}function m(t,e){return e===t}function S(t,e,n,a){var c=parseInt(t.format("D"),10),o=parseInt(t.format("M"),10),d=parseInt(t.format("YYYY"),10);return o===e&&d===n&&c===a}n(19);var T=function(t){var e=t.todos,n=t.crudOperations,c=Object(a.useState)(!1),o=Object(i.a)(c,2),d=o[0],s=o[1],l=Object(a.useState)({}),b=Object(i.a)(l,2),O=b[0],p=b[1],v=function(t){s(!0),p(t)},x=Object(r.a)(e.sort(g));return d?Object(u.jsx)(f,{addTodo:n.addTodo,updateTodo:n.updateTodo,defaultDate:j()(O.deadline),updateParams:O,updateMode:!0,setCurrentlyUpdating:s}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(f,{addTodo:n.addTodo,defaultDate:j()()}),Object(u.jsx)("div",{className:"all-todos-listed",children:x.map((function(t,e){var a=j()(t.deadline);return Object(u.jsx)(h,{crudOperations:n,todoObj:t,momentObjFromTodo:a,handleTodoUpdate:v},e)}))})]})};function g(t,e){var n=j()(t.deadline),a=j()(e.deadline);return n.isBefore(a)?-1:a.isBefore(n)?1:0}var y=function(t){var e=t.cbFunc;return Object(u.jsx)("button",{onClick:e,children:"Swap view"})};var N=function(){var t=Object(a.useState)(!1),e=Object(i.a)(t,2),n=e[0],c=e[1],o=Object(a.useState)(JSON.parse(localStorage.getItem("todos"))||[]),d=Object(i.a)(o,2),s=d[0],j=d[1];Object(a.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(s))}),[s]);var l={addTodo:function(t){var e=Object(r.a)(s);e.push(t),j(e)},deleteTodo:function(t){var e=Object(r.a)(s).filter((function(e){return e.id!==t}));j(e)},updateTodo:function(t){s.find((function(e){return e.id===t.id}));var e=Object(r.a)(s).filter((function(e){return e.id!==t.id}));e.push(t),j(e)}},b={swapView:function(){c(!n)}};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(y,{cbFunc:b.swapView}),n?Object(u.jsx)(v,{todos:s,crudOperations:l}):Object(u.jsx)(T,{todos:s,crudOperations:l})]})};d.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(N,{})}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.e785a50e.chunk.js.map